{
    "swagger": "2.0",
    "info": {
        "description": "快抢券接口文档(列表, 详情)",
        "version": "1.0.0",
        "title": "快抢券"
    },
    "host": "127.0.0.1:3000",
    "basePath": "/",
    "tags": [{
        "name": "Coupons",
        "description": "优惠券列表,商品查询接口"
    }],
    "paths": {
        "/coupons/dg": {
            "post": {
                "tags": ["Coupons"],
                "summary": "好券清单列表(导购)",
                "produces": ["application/json"],
                "parameters": [{
                    "in": "body",
                    "name": "body",
                    "description": "提交字段",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/CouponDgParameter"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "响应成功",
                        "schema": {
                            "$ref": "#/definitions/CouponDgResponse"
                        }
                    },
                    "500": {
                        "description": "服务器内部异常"
                    },
                    "其他": {
                        "description": "其他错误"
                    }
                }
            }
        },
        "/coupons/item/{id}": {
            "get": {
                "tags": ["Coupons"],
                "summary": "根据id查询淘宝客商品详情(简版)",
                "produces": ["application/json"],
                "parameters": [{
                    "in": "path",
                    "name": "id",
                    "description": "商品id, 放在url上面做 path parameter",
                    "required": true,
                    "type": "string"
                }],
                "responses": {
                    "200": {
                        "description": "响应成功",
                        "schema": {
                            "$ref": "#/definitions/GoodDetailResponse"
                        }
                    },
                    "500": {
                        "description": "服务器内部异常"
                    },
                    "其他": {
                        "description": "其他错误"
                    }
                }
            }
        },
        "/coupons/tqg": {
            "post": {
                "tags": ["Coupons"],
                "summary": "淘抢购api",
                "produces": ["application/json"],
                "parameters": [{
                    "in": "body",
                    "name": "body",
                    "description": "提交字段",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/CouponTqgParameter"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "响应成功",
                        "schema": {
                            "$ref": "#/definitions/CouponTqgResponse"
                        }
                    },
                    "500": {
                        "description": "服务器内部异常"
                    },
                    "其他": {
                        "description": "其他错误"
                    }
                }
            }
        },
    },
    "definitions": {
        "CouponDgParameter": {
            "type": "object",
            "properties": {
                "cat": {
                    "type": "string",
                    "description": "类目id, 需要花时间收集, 默认16, 非必传"
                },
                "q": {
                    "type": "string",
                    "description": "查询词, 比如'女装'、'男装'等, 默认'女装', 非必传"
                },
                "adzoneId": {
                    "type": "number",
                    "description": "推广位id最后一段, 详见(淘宝联盟 -> 活动推广 -> 推广管理 -> 推广位管理[网站推广位]), 如女装为'mm_116161509_34298563_121582787', 则最后给后端为'121582787', 默认'121582787', 非必传"
                },
                "pageSize": {
                    "type": "number",
                    "description": "每页显示多少条, 默认10, 非必传"
                },
                "pageNo": {
                    "type": "number",
                    "description": "第几页, 默认1(当类目和查询词均不指定的时候, 最多出10000个结果, 即pageNo * pageSize不能超过10000; 当指定类目或关键词的时, 则最多出100个结果), 非必传"
                }
            }
        },
        "CouponDgResponse": {
            "type": "object",
            "properties": {
                "success": {
                    "type": "boolean",
                    "description": "用于判断是否处理成功"
                },
                "totalPages": {
                    "type": "number",
                    "description": "总页数"
                },
                "currentPage": {
                    "type": "number",
                    "description": "当前页, 可根据totalPages和currentPage判断是否有下一页"
                },
                "data": {
                    "properties": {
                        "token": {
                            "type": "string",
                            "description": "转换后的淘宝吱口令"
                        },
                        "imgUrl": {
                            "type": "string",
                            "description": "商品主图"
                        },
                        "couponInfo": {
                            "type": "string",
                            "description": "优惠券信息"
                        },
                        "id": {
                            "type": "string",
                            "description": "商品id"
                        },
                        "clickUrl": {
                            "type": "string",
                            "description": "优惠券领取地址"
                        },
                        "remain": {
                            "type": "string",
                            "description": "优惠券剩余张数"
                        },
                        "volume": {
                            "type": "string",
                            "description": "30天内销量"
                        },
                        "title": {
                            "type": "string",
                            "description": "商品标题"
                        },
                        "couponPrice": {
                            "type": "string",
                            "description": "优惠券面值"
                        },
                        "finalPrice": {
                            "type": "string",
                            "description": "用券后的商品价格"
                        },
                        "originalPrice": {
                            "type": "string",
                            "description": "商品原价"
                        }
                    }
                }
            }
        },
        "CouponTqgParameter": {
            "type": "object",
            "properties": {
                "startTime": {
                    "type": "string",
                    "description": "开始时间, 格式为YYYY-MM-DD hh:mm:ss(2017-08-15 10:29:30), 默认当前时间的前3天, 非必传"
                },
                "endTime": {
                    "type": "string",
                    "description": "开始时间, 格式为YYYY-MM-DD hh:mm:ss(2017-08-15 10:29:30), 默认当前时间的后3天, 非必传"
                },
                "pageSize": {
                    "type": "number",
                    "description": "每页显示多少条, 默认16, 非必传"
                },
                "pageNo": {
                    "type": "number",
                    "description": "第几页, 默认1, 需要注意 pageSize * pageNo 不大于 96, 否则取不到数据"
                },
                "adzoneId": {
                    "type": "number",
                    "description": "推广位id最后一段, 详见(淘宝联盟 -> 活动推广 -> 推广管理 -> 推广位管理[网站推广位]), 如女装为'mm_116161509_34298563_121582787', 则最后给后端为'121582787', 默认'121582787', 非必传"
                }
            }
        },
        "CouponTqgResponse": {
            "type": "object",
            "properties": {
                "success": {
                    "type": "boolean",
                    "description": "用于判断是否处理成功"
                },
                "data": {
                    "properties": {
                        "id": {
                            "type": "number",
                            "description": "商品id"
                        },
                        "title": {
                            "type": "string",
                            "description": "商品标题"
                        },
                        "remain": {
                            "type": "number",
                            "description": "抢购剩余数量"
                        },
                        "imgUrl": {
                            "type": "string",
                            "description": "商品主图地址"
                        },
                        "originalPrice": {
                            "type": "number",
                            "description": "商品原价"
                        },
                        "finalPrice": {
                            "type": "number",
                            "description": "淘抢购活动价"
                        }
                    }
                }
            }
        },
        "GoodDetailResponse": {
            "type": "object",
            "properties": {
                "success": {
                    "type": "boolean",
                    "description": "用于判断是否处理成功"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "id": {
                            "type": "number",
                            "description": "商品id"
                        },
                        "volume": {
                            "type": "number",
                            "description": "30销量"
                        },
                        "itemUrl": {
                            "type": "string",
                            "description": "商品详情地址"
                        },
                        "provcity": {
                            "type": "string",
                            "description": "商品所在地"
                        },
                        "title": {
                            "type": "string",
                            "description": "商品标题"
                        },
                        "pictUrl": {
                            "type": "string",
                            "description": "商品主图"
                        },
                        "smallImages": {
                            "type": "array",
                            "description": "小图地址, 用于轮播"
                        },
                        "price": {
                            "type": "number",
                            "description": "商品原价"
                        },
                        "finalPrice": {
                            "type": "number",
                            "description": "用券后的商品价格"
                        }
                    }
                }
            }
        }
    }
}
